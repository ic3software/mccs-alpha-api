# MCCS Alpha API

## Overview

The MCCS Alpha API is a prototype API that exposes all of the functionality described in the [MCCS overview of functionality](https://github.com/ic3network/mccs/blob/master/alpha-functionality.md).

By providing an API, developers who want to create their own front-end user interface for MCCS will have significant flexibility to implement it in whatever way they choose. This means developers can present MCCS in any language, setup their own signup flow, optimize it for whatever devices their users prefer, develop a mobile app, integrate other services such as chat, etc.

Importantly, an API enables developers to integrate MCCS functionality directly into their own apps (e.g., import transfer data into an accounting application, instruct mutual credit transfers from an e-wallet application, etc.).

We are making this code public to show our commitment to free and open source software, and to signal our intention to develop mutual credit software that will be freely available to anyone who wishes to implement a mutual credit transfer system.

## Main Functions

There are four main functions that the MCCS API provides to its users:

1. **Manage accounts** - create and modify user accounts and their related entity details
2. **Find entities** - search for and view entities based on what they sell and need
3. **Transfer mutual credits** - create and complete/cancel mutual credit (MC) transfers between entities
4. **Review transfer activity** - view pending and completed MC transfers

See the detailed description of these main functions in the [MCCS overview of functionality](https://github.com/ic3network/mccs/blob/master/alpha-functionality.md).

## API Documentation

### [User API](https://app.swaggerhub.com/apis-docs/ic3software/mccs-alpha-user-api/1)

### [Admin API](https://app.swaggerhub.com/apis-docs/ic3software/mccs-alpha-admin-api/1)

## How to Start

Basic requirements: Go version 1.13+, Docker and Docker Compose ([see all requirements](#requirements))

1. Change the name of the [`development-example.yaml` file](configs/development-example.yaml) to `configs/development.yaml`
1. Generate JSON Web Token public and private keys
    1. Generate private key
        ```
        openssl genrsa -out private.pem 2048
        ```
    1. Extract public key from it
        ```
        openssl rsa -in private.pem -pubout > public.pem
        ```
    1. Copy/paste the private and public keys into `configs/development.yaml`
1. Run the app
    ```
    make run
    ```
1. Seed the DB with some test data
    ```
    make seed
    ```
1. [Make API calls](#api-documentation)

## Requirements

**Software**

- [Go](https://golang.org/doc/install)
- [Docker](https://docs.docker.com/install/)
- [Docker Compose](https://docs.docker.com/compose/install/)

The MCCS web app is written in Go, and it uses Docker Compose to orchestrate itself and its dependencies as Docker containers.

**App Dependencies**

- [MongoDB](https://en.wikipedia.org/wiki/MongoDB) - the database used to store user and entity directory data
- [PostgreSQL](https://www.postgresql.org/) - the database used to store mutual credit transfer data
- [Elasticsearch](https://en.wikipedia.org/wiki/Elasticsearch) - the search engine for searching user/entity data
- [Redis](https://redis.io/) - in-memory cache used for rate limiting API requests

These dependencies are installed automatically by Docker Compose.

**External Dependencies**

- [Sendgrid](https://sendgrid.com/) - email delivery provider for sending [emails generated by MCCS](README-email.md) (e.g., welcome and password reset emails)

Sendgrid does not need to be setup to run the app in development mode.
